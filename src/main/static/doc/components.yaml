parameters:
  speciesId:
    in: path
    name: speciesId
    required: true
    schema:
      type: string
    description: MX code of the wanted species.

  gridId:
    in: path
    name: gridId
    required: true
    schema:
      type: string
    description: Location of the wanted area, in the format of NNN:EEE.

  atlasId:
    in: path
    name: atlasId
    required: true
    schema:
      type: integer
    description: ID of the atlas.

schemas:
  Atlas:
    type: object
    properties:
      id:
        type: integer
        description: ID of the atlas.
      startingYear:
        type: integer
        desciption: Starting year of the atlas
      endingYear:
        type: integer
        desciption: Ending year of the atlas
      name:
        type: string
        desciption: Name of the atlas

  GridData:
    type: object
    properties:
      id:
        type: string
        description: ID of a square area in the atlas grid, formatted as http://tun.fi/YKJ.NNN:EEE.
      coordinates:
        type: string
        description: Coordinates of the grid square in NNN:EEE-format
      birdAssociationArea:
        type: object
        properties:
          key:
            type: string
            description: Id key of the bird association
          value:
            type: string
            description:  Name of the bird association
      name:
        type: string
        description: Name of the grid square
      level1:
        type: number
        description: Lower limit for atlas category 1
      level2:
        type: number
        description: Lower limit for atlas category 2
      level3:
        type: number
        description: Lower limit for atlas category 3
      level4:
        type: number
        description: Lower limit for atlas category 4
      level5:
        type: number
        description: Lower limit for atlas category 5

  AtlasData:
    type: object
    properties:
      speciesId:
        type: string
        description: MX-code of the species.
      speciesName:
        type: string
        descriptiom: Name of the species
      atlasCode:
        type: object
        properties:
          key:
            type: string
            description: Enum key of the atlas code
          value:
            type: string
            description:  Eum value of the atlas code
      atlasClass:
        type: object
        properties:
          key:
            type: string
            description: Enum key of the atlas class
          value:
            type: string
            description:  Eum value of the atlas class
  
  GridAtlasData:
    allOf:
      - $ref: '#/schemas/GridData'
      - type: object
        properties:
          data:
            type: array
            items:
              $ref: '#/schemas/AtlasData'

examples:
  grid1:
    value:
      id: http://tun.fi/YKJ.667:337
      coordinates: 667:337
      birdAssociationArea:
        key: ML.1091
        value: Helsingin Seudun Lintutieteellinen Yhdistys - Tringa r.y.
      name: Espoo, Espoon keskusta
      level1: 1
      level2: 110.9
      level3: 222.8
      level4: 270.4
      level5: 319.1
  grid2:
    value:
      id: http://tun.fi/YKJ.667:338
      coordinates: 667:338
      birdAssociationArea:
        key: ML.1091
        value: Helsingin Seudun Lintutieteellinen Yhdistys - Tringa r.y.
      name: Helsinki, Helsingin keskusta
      level1: 1
      level2: 102.4
      level3: 205.8
      level4: 250.2
      level5: 295.6
  grid3:
    value:
      id: http://tun.fi/YKJ.667:339
      coordinates: 667:339
      birdAssociationArea:
        key: ML.1091
        value: Helsingin Seudun Lintutieteellinen Yhdistys - Tringa r.y.
      name: Helsinki, Santahamina
      level1: 1
      level2: 98.4
      level3: 197.8
      level4: 240.6
      level5: 284.4
  grids:
    value:
      - id: http://tun.fi/YKJ.667:337
        coordinates: 667:337
        birdAssociationArea:
          key: ML.1091
          value: Helsingin Seudun Lintutieteellinen Yhdistys - Tringa r.y.
        name: Espoo, Espoon keskusta
        level1: 1
        level2: 110.9
        level3: 222.8
        level4: 270.4
        level5: 319.1
      - id: http://tun.fi/YKJ.667:338
        coordinates: 667:338
        birdAssociationArea:
          key: ML.1091
          value: Helsingin Seudun Lintutieteellinen Yhdistys - Tringa r.y.
        name: Helsinki, Helsingin keskusta
        level1: 1
        level2: 102.4
        level3: 205.8
        level4: 250.2
        level5: 295.6
      - id: http://tun.fi/YKJ.667:339
        coordinates: 667:339
        birdAssociationArea:
          key: ML.1091
          value: Helsingin Seudun Lintutieteellinen Yhdistys - Tringa r.y.
        name: Helsinki, Santahamina
        level1: 1
        level2: 98.4
        level3: 197.8
        level4: 240.6
        level5: 284.4
  atlasDataExample:
    value:
        id: http://tun.fi/YKJ.667:338
        coordinates: 667:338
        birdAssociationArea:
          key: ML.1091
          value: Helsingin Seudun Lintutieteellinen Yhdistys - Tringa r.y.
        name: Helsinki, Helsingin keskusta
        level1: 1
        level2: 102.4
        level3: 205.8
        level4: 250.2
        level5: 295.6
        data:
          - speciesId: MX.27748
            speciesName: kalalokki
            atlasCode:
              key: MY.atlasCodeEnum1,
              value: '1 Epätodennäköinen pesintä: havaittu lajin yksilö, havainto ei viittaa pesintään'
            atlasClass:
              key: MY.atlasClassEnumA
              value: Epätodennäköinen pesintä
          - speciesId: MX.27903,
            speciesName: kalliokyyhky
            atlasCode:
              key: MY.atlasCodeEnum4
              value: '4 Todennäköinen pesintä: koiras reviirillä (esim. laulaa) eri päivinä'
            atlasClass:
              key: MY.atlasClassEnumC
              value: Todennäköinen pesintä